"use strict";(self["webpackChunkdigital_ayurved_web"]=self["webpackChunkdigital_ayurved_web"]||[]).push([[400],{8330:function(e,l,a){a.r(l),a.d(l,{default:function(){return v}});var t=a(3396),s=a(9242),d=a(7139),n=a(870),i=a(6422),r=a(6824),o=a(8521),u=a(2902);const m={class:"ml-1"},_={class:"ml-1"},c={class:"ml-1"},g={class:"ml-1"},p={class:"ml-1"},h={class:"btn_text"},f={class:"btn_text"};function b(e,l,a,b,D,w){return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(i.O,{ref:"add_drug_form",modelValue:e.valid,"onUpdate:modelValue":l[6]||(l[6]=l=>e.valid=l),"lazy-validation":"",onSubmit:l[7]||(l[7]=(0,s.iM)((l=>e.addDrug()),["prevent"]))},{default:(0,t.w5)((()=>[(0,t.Wm)(r.o,{"no-gutters":""},{default:(0,t.w5)((()=>[(0,t.Wm)(o.D,{cols:"12",md:"5",class:(0,d.C_)(e.$vuetify.display.mobile?"":"px-4")},{default:(0,t.w5)((()=>[(0,t._)("label",m,(0,d.zw)(e.$lang.DRUG_NAME),1),(0,t.Wm)(u.h,{modelValue:e.form.drug_name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.form.drug_name=l),label:e.$lang.DRUG_NAME,variant:"outlined","single-line":"",class:"mt-1",shaped:"",rules:[e.$rules.REQUIRED_FIELD(e.$lang.DRUG_NAME)],density:"compact"},null,8,["modelValue","label","rules"])])),_:1},8,["class"]),(0,t.Wm)(o.D,{cols:"12",md:"5",class:(0,d.C_)(e.$vuetify.display.mobile?"":"px-4")},{default:(0,t.w5)((()=>[(0,t._)("label",_,(0,d.zw)(e.$lang.BRAND),1),(0,t.Wm)(u.h,{modelValue:e.form.brand,"onUpdate:modelValue":l[1]||(l[1]=l=>e.form.brand=l),label:e.$lang.BRAND,variant:"outlined","single-line":"",class:"mt-1",shaped:"",rules:[e.$rules.REQUIRED_FIELD(e.$lang.BRAND)],density:"compact"},null,8,["modelValue","label","rules"])])),_:1},8,["class"]),(0,t.Wm)(o.D,{cols:"12",md:"5",class:(0,d.C_)(e.$vuetify.display.mobile?"":"px-4")},{default:(0,t.w5)((()=>[(0,t._)("label",c,(0,d.zw)(e.$lang.FORMULA),1),(0,t.Wm)(u.h,{modelValue:e.form.formula,"onUpdate:modelValue":l[2]||(l[2]=l=>e.form.formula=l),label:e.$lang.FORMULA,variant:"outlined","single-line":"",class:"mt-1",shaped:"",rules:[e.$rules.REQUIRED_FIELD(e.$lang.FORMULA)],density:"compact"},null,8,["modelValue","label","rules"])])),_:1},8,["class"]),(0,t.Wm)(o.D,{cols:"12",md:"5",class:(0,d.C_)(e.$vuetify.display.mobile?"":"px-4")},{default:(0,t.w5)((()=>[(0,t._)("label",g,(0,d.zw)(e.$lang.FORMULATION_TYPE),1),(0,t.Wm)(u.h,{modelValue:e.form.formulation,"onUpdate:modelValue":l[3]||(l[3]=l=>e.form.formulation=l),label:e.$lang.FORMULATION_TYPE,variant:"outlined","single-line":"",class:"mt-1",shaped:"",density:"compact"},null,8,["modelValue","label"])])),_:1},8,["class"]),(0,t.Wm)(o.D,{cols:"12",md:"5",class:(0,d.C_)(e.$vuetify.display.mobile?"":"px-4")},{default:(0,t.w5)((()=>[(0,t._)("label",p,(0,d.zw)(e.$lang.ANUPAAN),1),(0,t.Wm)(u.h,{modelValue:e.form.anupaan,"onUpdate:modelValue":l[4]||(l[4]=l=>e.form.anupaan=l),label:e.$lang.ANUPAAN,variant:"outlined","single-line":"",class:"mt-1",shaped:"",density:"compact"},null,8,["modelValue","label"])])),_:1},8,["class"])])),_:1}),(0,t.Wm)(r.o,{"no-gutters":""},{default:(0,t.w5)((()=>[(0,t.Wm)(o.D,{cols:"12",md:"10",class:"text-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(n.T,{loading:e.btn_loading,class:"register-action-btn mx-2",color:"primary",height:"50px",width:"300px",type:"submit"},{default:(0,t.w5)((()=>[(0,t._)("span",h,(0,d.zw)(e.$lang.SAVE),1)])),_:1},8,["loading"]),(0,t.Wm)(n.T,{class:"register-action-btn mx-2",color:"primary",height:"50px",width:"300px",variant:"outlined",onClick:l[5]||(l[5]=l=>e.$router.go(-1))},{default:(0,t.w5)((()=>[(0,t._)("span",f,(0,d.zw)(e.$lang.CANCEL),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var D=(0,t.aZ)({name:"AddDrugView",components:{},data:()=>({drug_table_id:null,valid:!1,form:{drug_name:"",brand:"",formula:"",formulation:"",anupaan:""},show_password:!1,btn_loading:!1}),created(){this.$route.params.id&&(this.drug_table_id=this.$route.params.id,this.getDrugDetails())},methods:{async addDrug(){if(await this.$refs.add_drug_form.validate(),console.log(this.valid),!this.valid)return!1;this.btn_loading=!0;var e=new URLSearchParams;this.drug_table_id&&e.append("drug_table_id",this.drug_table_id),e.append("drug_name",this.form.drug_name),e.append("brand",this.form.brand),e.append("formula",this.form.formula),e.append("formulation",this.form.formulation),e.append("anupaan",this.form.anupaan);const l=e=>{e.data.success&&(this.$refs.add_drug_form.reset(),this.showSnakeBar("success",this.drug_table_id?"Updated Successfully":"Added Successfully"),this.$router.push({name:"drug_list"}))},a=()=>{this.btn_loading=!1};this.request_POST(this,this.$urls.DRUGS_ADD,e,l,null,null,a)},getDrugDetails(){var e={drug_table_id:this.drug_table_id};const l=e=>{this.form=e.data},a=()=>{this.btn_loading=!1};this.request_GET(this,this.$urls.DRUGS_DETAILS,e,l,null,null,a)}}}),w=a(89);const y=(0,w.Z)(D,[["render",b]]);var v=y},5718:function(e,l,a){a.r(l),a.d(l,{default:function(){return f}});var t=a(3396),s=a(7139),d=a(870),n=a(4075),i=a(6824),r=a(8521),o=a(6556),u=a(2902);function m(e,l,a,m,_,c){const g=(0,t.up)("router-link"),p=(0,t.up)("data-table"),h=(0,t.up)("confirmation-dialog");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(i.o,{class:"mb-2",justify:"space-between"},{default:(0,t.w5)((()=>[(0,t.Wm)(r.D,{cols:"12",md:"2"},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{to:{name:"add_drug"}},{default:(0,t.w5)((()=>[(0,t.Wm)(d.T,{color:"primary","prepend-icon":"mdi-plus"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(e.$lang.ADD_NEW),1)])),_:1})])),_:1})])),_:1}),(0,t.Wm)(r.D,{cols:"12",md:"5"},{default:(0,t.w5)((()=>[(0,t.Wm)(u.h,{modelValue:e.search_query,"onUpdate:modelValue":l[0]||(l[0]=l=>e.search_query=l),placeholder:e.$lang.DRUG_SEARCH,"prepend-inner-icon":"mdi-magnify","hide-details":"","single-line":"",variant:"outlined",onKeyup:e.getDrugList,density:"compact"},null,8,["modelValue","placeholder","onKeyup"])])),_:1})])),_:1}),(0,t._)("div",null,[(0,t.Wm)(p,{items:e.drug_list,headers:e.headers,onDelete:e.OpenDialog},null,8,["items","headers","onDelete"]),(0,t.Wm)(n.J),(0,t.Wm)(o.k,{class:"mt-4",modelValue:e.page_number,"onUpdate:modelValue":[l[1]||(l[1]=l=>e.page_number=l),e.getDrugList],length:e.total_page_count,"total-visible":8,density:"comfortable",color:"primary"},null,8,["modelValue","length","onUpdate:modelValue"])]),(0,t.Wm)(h,{ref:"confirmation_dialog",onYes:e.deleteRecord},null,8,["onYes"])])}var _=a(6108),c=a(6243),g=(0,t.aZ)({name:"DrugListView",components:{DataTable:_.Z,ConfirmationDialog:c.Z},data:()=>({drug_list:[],page_number:1,total_page_count:1,search_query:"",headers:[{title:"Drug Name",value:"drug_name",class:"fw-450"},{title:"Brand",value:"brand"},{title:"formula",value:"formula"},{title:"",type:"btn",class:"text-right",btn_list:[{btn_icon:"mdi-pencil",route_name:"/drugs/edit/",router_key:"drug_table_id",color:"primary"},{btn_icon:"mdi-delete-empty",route_name:"/prescription_preview/",router_key:"id",btn_type:"delete-btn",size:"25",color:"red"}]}],dialog:{drug_table_id:null}}),mounted(){this.getDrugList()},methods:{getDrugList(){var e={search_query:this.search_query,page_number:this.page_number};const l=e=>{this.drug_list=e.data.drug_list,this.total_page_count=e.data.total_page_count},a=()=>{this.btn_loading=!1};this.request_GET(this,this.$urls.DRUGS_LIST,e,l,null,null,a)},OpenDialog(e){console.log("id",e),this.dialog.drug_table_id=e,this.$refs.confirmation_dialog.$data.flag=!0},deleteRecord(){console.log("delete records");var e=new URLSearchParams;e.append("drug_table_id",this.dialog.drug_table_id);const l=e=>{this.drug_list=this.drug_list.filter((e=>e.id!==this.dialog.drug_table_id)),this.showSnakeBar("success","Record Deleted"),this.$refs.confirmation_dialog.$data.flag=!1},a=()=>{this.btn_loading=!1};this.request_POST(this,this.$urls.DRUGS_DELETE,e,l,null,null,a)}}}),p=a(89);const h=(0,p.Z)(g,[["render",m]]);var f=h}}]);
//# sourceMappingURL=drug.c45ed8b3.js.map