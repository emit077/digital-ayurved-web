"use strict";(self["webpackChunkdigital_ayurved_web"]=self["webpackChunkdigital_ayurved_web"]||[]).push([[324],{2262:function(e,l,t){var a=t(2109),s=t(7908),i=t(6244),n=t(9303),o=t(1223);a({target:"Array",proto:!0},{at:function(e){var l=s(this),t=i(l),a=n(e),o=a>=0?a:t+a;return o<0||o>=t?void 0:l[o]}}),o("at")},4506:function(e,l,t){var a=t(2109),s=t(1702),i=t(4488),n=t(9303),o=t(1340),r=t(7293),u=s("".charAt),d=r((function(){return"\ud842"!=="ð ®·".at(-2)}));a({target:"String",proto:!0,forced:d},{at:function(e){var l=o(i(this)),t=l.length,a=n(e),s=a>=0?a:t+a;return s<0||s>=t?void 0:u(l,s)}})},80:function(e,l,t){t.r(l),t.d(l,{default:function(){return de}});var a=t(3396),s=t(7139),i=(t(1703),t(6699),t(2262),t(4506),t(240)),n=t(1550),o=t(7103),r=t(836),u=t(2329),d=t(329),c=t(4193),m=t(2902),p=t(3766),_=t(131),h=t(4870);const g=(e,l,t)=>null==e||null==l?-1:e.toString().toLocaleLowerCase().indexOf(l.toString().toLocaleLowerCase()),y=(0,p.U)({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function v(e,l,t){var a,s;const i=[],n=null!=(a=null==t?void 0:t.default)?a:g,o=!(null==t||!t.filterKeys)&&(0,_.FT)(t.filterKeys),r=Object.keys(null!=(s=null==t?void 0:t.customKeyFilter)?s:{}).length;if(null==e||!e.length)return i;e:for(let d=0;d<e.length;d++){const a=e[d],s={},c={};let m=-1;if(l&&(null==t||!t.noFilter)){if("object"===typeof a){const e=o||Object.keys(a);for(const i of e){var u;const e=(0,_.qF)(a,i,a),o=null==t||null==(u=t.customKeyFilter)?void 0:u[i];if(m=o?o(e,l,a):n(e,l,a),-1!==m&&!1!==m)o?s[i]=m:c[i]=m;else if("every"===(null==t?void 0:t.filterMode))continue e}}else m=n(a,l,a),-1!==m&&!1!==m&&(c.title=m);const e=Object.keys(c).length,i=Object.keys(s).length;if(!e&&!i)continue;if("union"===(null==t?void 0:t.filterMode)&&i!==r&&!e)continue;if("intersection"===(null==t?void 0:t.filterMode)&&(i!==r||!e))continue}i.push({index:d,matches:{...c,...s}})}return i}function f(e,l,t){const s=(0,a.Fl)((()=>"string"!==typeof(null==t?void 0:t.value)&&"number"!==typeof(null==t?void 0:t.value)?"":String(t.value))),i=(0,a.Fl)((()=>{const t=(0,h.SU)(l),a=v(t,s.value,{customKeyFilter:e.customKeyFilter,default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter});return a.map((e=>{let{index:l,matches:a}=e;return{item:t[l],matches:a}}))}));return{filteredItems:i}}var b=t(4906),w=t(6185),E=t(6199),D=t(5738),$=t(8717),V=t(1107),W=t(9888);function U(e,l,t){if(Array.isArray(l))throw new Error("Multiple matches is not implemented");return"number"===typeof l&&~l?(0,a.Wm)(a.HY,null,[(0,a.Wm)("span",{class:"v-autocomplete__unmask"},[e.substr(0,l)]),(0,a.Wm)("span",{class:"v-autocomplete__mask"},[e.substr(l,t)]),(0,a.Wm)("span",{class:"v-autocomplete__unmask"},[e.substr(l+t)])]):e}const I=(0,V.e)()({name:"VAutocomplete",props:{search:String,...y({filterKeys:["title"]}),...(0,i.f)(),...(0,b.X)({transition:!1})},emits:{"click:clear":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:s}=(0,D.bU)(),i=(0,h.iH)(),p=(0,h.iH)(!1),g=(0,h.iH)(!0),y=(0,$.z)(e,"menu"),{items:v,transformIn:b,transformOut:V}=(0,w.Ce)(e),I=(0,$.z)(e,"search",""),R=(0,$.z)(e,"modelValue",[],(e=>b((0,_.FT)(e))),(l=>{var t;const a=V(l);return e.multiple?a:null!=(t=a[0])?t:null})),{filteredItems:C}=f(e,v,(0,a.Fl)((()=>g.value?void 0:I.value))),T=(0,a.Fl)((()=>R.value.map((e=>v.value.find((l=>l.value===e.value))||e)))),k=(0,a.Fl)((()=>T.value.map((e=>e.props.value))));function x(l){R.value=[],e.openOnClear&&(y.value=!0),I.value=""}function F(){e.hideNoData&&!C.value.length||(y.value=!0)}function S(e){["Enter","ArrowDown"].includes(e.key)&&(y.value=!0),["Escape"].includes(e.key)&&(y.value=!1),["Enter","Escape","Tab"].includes(e.key)&&(g.value=!0)}function O(e){I.value=e.target.value}function L(){p.value&&(g.value=!0)}const P=(0,h.iH)(!1);function q(l){if(e.multiple){const e=k.value.findIndex((e=>e===l.value));if(-1===e)R.value=[...R.value,l],I.value="";else{const l=[...R.value];l.splice(e,1),R.value=l}}else R.value=[l],P.value=!0,I.value=l.title,y.value=!1,g.value=!0,(0,a.Y3)((()=>P.value=!1))}return(0,a.YP)(p,(l=>{var t,s;l?(P.value=!0,I.value=e.multiple?"":String(null!=(t=null==(s=T.value.at(-1))?void 0:s.props.title)?t:""),g.value=!0,(0,a.Y3)((()=>P.value=!1))):(y.value=!1,I.value="")})),(0,a.YP)(I,(e=>{p.value&&!P.value&&(e&&(y.value=!0),g.value=!e)})),(0,W.L)((()=>{const l=!(!e.chips&&!t.chip);return(0,a.Wm)(m.h,{ref:i,modelValue:I.value,"onUpdate:modelValue":e=>{null==e&&(R.value=[])},validationValue:e.modelValue,onInput:O,class:["v-autocomplete",{"v-autocomplete--active-menu":y.value,"v-autocomplete--chips":!!e.chips,["v-autocomplete--"+(e.multiple?"multiple":"single")]:!0}],appendInnerIcon:e.menuIcon,"onClick:clear":x,"onClick:control":F,"onClick:input":F,onFocus:()=>p.value=!0,onBlur:()=>p.value=!1,onKeydown:S},{...t,default:()=>{var i,m;return(0,a.Wm)(a.HY,null,[(0,a.Wm)(c.T,(0,a.dG)({modelValue:y.value,"onUpdate:modelValue":e=>y.value=e,activator:"parent",contentClass:"v-autocomplete__content",eager:e.eager,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:L},e.menuProps),{default:()=>[(0,a.Wm)(u.i,{selected:k.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault()},{default:()=>[!C.value.length&&!e.hideNoData&&(null!=(i=null==(m=t["no-data"])?void 0:m.call(t))?i:(0,a.Wm)(d.l,{title:s(e.noDataText)},null)),C.value.map((l=>{var s,i;let{item:o,matches:r}=l;return null!=(s=null==(i=t.item)?void 0:i.call(t,{item:o,props:(0,a.dG)(o.props,{onClick:()=>q(o)})}))?s:(0,a.Wm)(d.l,(0,a.dG)(o.props,{onClick:()=>q(o)}),{prepend:l=>{let{isSelected:t}=l;return e.multiple?(0,a.Wm)(n.pM,{modelValue:t,ripple:!1},null):void 0},title:()=>{var e,l;return g.value?o.title:U(o.title,r.title,null!=(e=null==(l=I.value)?void 0:l.length)?e:0)}})}))]})]}),T.value.map(((s,i)=>{function n(e){e.stopPropagation(),e.preventDefault(),q(s)}const u={"onClick:close":n,modelValue:!0};return(0,a.Wm)("div",{class:"v-autocomplete__selection"},[l?(0,a.Wm)(r.z,{defaults:{VChip:{closable:e.closableChips,size:"small",text:s.title}}},{default:()=>[t.chip?t.chip({props:u,item:s,index:i}):(0,a.Wm)(o.v,u,null)]}):t.selection?t.selection({item:s,index:i}):(0,a.Wm)("span",{class:"v-autocomplete__selection-text"},[s.title,e.multiple&&i<T.value.length-1&&(0,a.Wm)("span",{class:"v-autocomplete__selection-comma"},[(0,a.Uk)(",")])])])}))])}})})),(0,E.Z)({isFocused:p,isPristine:g,menu:y,search:I,filteredItems:C,select:q},i)}});var R=t(870),C=t(6422),T=t(6824),k=t(8521),x=t(3289),F=t(4842);const S={class:"ml-1"},O={class:"d-flex h-100 align-end justify-end"},L={class:"ml-1 d-block"},P={class:"ml-1"},q={class:"ml-1"},A={class:"ml-1"},z={class:"ml-1"},N={class:"ml-1"},K={class:"ml-1"},M={class:"ml-1"},H={class:"ml-1"},Q={class:"ml-1"},j={class:"ml-1"},G={class:"ml-1"},Y={class:"border py-3 mt-3"},B=(0,a._)("p",{class:"pl-4 font-weight-bold"}," Add Prescription ",-1),Z=(0,a.Uk)(" Add More "),X={class:"ml-1"},J={class:"ml-1"},ee={class:"ml-1"},le={class:"ml-1"},te={class:"ml-1"},ae=(0,a.Uk)("mdi-close"),se={class:"btn_text"},ie={class:"btn_text"};function ne(e,l,t,n,o,r){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(C.O,{ref:"prescription_form",modelValue:e.valid,"onUpdate:modelValue":l[22]||(l[22]=l=>e.valid=l),"lazy-validation":""},{default:(0,a.w5)((()=>[e.$route.params.id?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(T.o,{key:0,"no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(k.D,{cols:"12",md:"5",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",S,(0,s.zw)(e.$lang.PATIENT),1),(0,a.Uk)(" "+(0,s.zw)(e.patient_search)+" ",1),(0,a.Wm)(I,{modelValue:e.patient,"onUpdate:modelValue":l[0]||(l[0]=l=>e.patient=l),"search-input":e.patient_search,"onUpdate:search-input":l[1]||(l[1]=l=>e.patient_search=l),rules:[e.$rules.REQUIRED_FIELD("")],items:e.patient_list,variant:"outlined",density:"compact",placeholder:"Select Patient",class:"custom-combobox","hide-details":"",onFocus:e.getPatientList,onKeydown:e.getPatientList},{selection:(0,a.w5)((e=>[(0,a._)("span",null,(0,s.zw)(e.item.raw.name),1)])),item:(0,a.w5)((({props:e,item:l})=>["object"!==typeof l.raw?((0,a.wg)(),(0,a.j4)(d.l,(0,s.vs)((0,a.dG)({key:0},e)),null,16)):((0,a.wg)(),(0,a.j4)(d.l,(0,a.dG)({key:1},e,{"prepend-avatar":l.raw.avatar,title:l.raw.name+"("+l.raw.patient_table_id+")",subtitle:l.raw.mobile}),null,16,["prepend-avatar","title","subtitle"]))])),_:1},8,["modelValue","search-input","rules","items","onFocus","onKeydown"])])),_:1},8,["class"]),(0,a.Wm)(k.D,{cols:"12",md:"1",class:"py-2",style:{}},{default:(0,a.w5)((()=>[(0,a._)("div",O,[(0,a.Wm)(R.T,{class:"text-capitalize mr-8",color:"secondary",icon:"mdi-plus",onClick:e.openDialog},null,8,["onClick"])])])),_:1})])),_:1})),(0,a.Wm)(T.o,{"no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(k.D,{cols:"12",md:"2",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",L,(0,s.zw)(e.$lang.BLOOD_PRESSURE),1),(0,a._)("div",null,[(0,a.Wm)(m.h,{modelValue:e.blood_pressure[0],"onUpdate:modelValue":l[2]||(l[2]=l=>e.blood_pressure[0]=l),label:e.$lang.NAME,variant:"outlined","single-line":"",class:"mt-1 d-inline-block",shaped:"",maxlength:"3",density:"compact","hide-details":"",style:{width:"50px"}},null,8,["modelValue","label"]),(0,a.Wm)(m.h,{placeholder:"/",variant:"plain","single-line":"",class:"mt-1 mx-n1 d-inline-block",maxlength:"3",density:"compact","hide-details":"",style:{width:"25px"},disabled:""}),(0,a.Wm)(m.h,{modelValue:e.blood_pressure[1],"onUpdate:modelValue":l[3]||(l[3]=l=>e.blood_pressure[1]=l),label:e.$lang.NAME,variant:"outlined","single-line":"",class:"mt-1 d-inline-block",shaped:"",maxlength:"3",density:"compact","hide-details":"",style:{width:"50px"}},null,8,["modelValue","label"])])])),_:1},8,["class"]),(0,a.Wm)(k.D,{cols:"12",md:"2",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",P,(0,s.zw)(e.$lang.BLOOD_SUGAR),1),(0,a.Wm)(m.h,{modelValue:e.blood_sugar,"onUpdate:modelValue":l[4]||(l[4]=l=>e.blood_sugar=l),label:e.$lang.BLOOD_SUGAR,variant:"outlined","single-line":"",class:"mt-1",shaped:"",rules:[e.$rules.OPTIONAL_REQUIRED_NUMBER_FIELD("")],onKeydown:l[5]||(l[5]=l=>e.restrictChar(l)),maxlength:"6",density:"compact","hide-details":""},null,8,["modelValue","label","rules"])])),_:1},8,["class"]),(0,a.Wm)(k.D,{cols:"12",md:"2",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",q,(0,s.zw)(e.$lang.PLUS_RATE),1),(0,a.Wm)(m.h,{modelValue:e.plus_rate,"onUpdate:modelValue":l[6]||(l[6]=l=>e.plus_rate=l),label:e.$lang.PLUS_RATE,variant:"outlined","single-line":"",class:"mt-1",shaped:"",rules:[e.$rules.OPTIONAL_REQUIRED_NUMBER_FIELD("")],onKeydown:l[7]||(l[7]=l=>e.restrictChar(l)),maxlength:"5",density:"compact","hide-details":""},null,8,["modelValue","label","rules"])])),_:1},8,["class"]),(0,a.Wm)(k.D,{cols:"12",md:"2",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",A,(0,s.zw)(e.$lang.TEMPERATURE),1),(0,a.Wm)(m.h,{modelValue:e.temperature,"onUpdate:modelValue":l[8]||(l[8]=l=>e.temperature=l),label:e.$lang.TEMPERATURE,variant:"outlined","single-line":"",class:"mt-1",shaped:"",rules:[e.$rules.OPTIONAL_REQUIRED_NUMBER_FIELD("")],onKeydown:l[9]||(l[9]=l=>e.restrictChar(l)),maxlength:"5",density:"compact","hide-details":""},null,8,["modelValue","label","rules"])])),_:1},8,["class"]),(0,a.Wm)(k.D,{cols:"12",md:"2",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",z,(0,s.zw)(e.$lang.SPO2),1),(0,a.Wm)(m.h,{modelValue:e.spo2,"onUpdate:modelValue":l[10]||(l[10]=l=>e.spo2=l),label:e.$lang.SPO2,variant:"outlined","single-line":"",class:"mt-1",shaped:"",onKeydown:l[11]||(l[11]=l=>e.restrictChar(l)),maxlength:"10",density:"compact","hide-details":""},null,8,["modelValue","label"])])),_:1},8,["class"]),(0,a.Wm)(k.D,{cols:"12",md:"2",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",N,(0,s.zw)(e.$lang.WEIGHT),1),(0,a.Wm)(m.h,{modelValue:e.weight,"onUpdate:modelValue":l[12]||(l[12]=l=>e.weight=l),label:e.$lang.WEIGHT,variant:"outlined","single-line":"",class:"mt-1",shaped:"",onKeydown:l[13]||(l[13]=l=>e.restrictChar(l)),rules:[e.$rules.OPTIONAL_REQUIRED_NUMBER_FIELD("")],maxlength:"3",density:"compact","hide-details":""},null,8,["modelValue","label","rules"])])),_:1},8,["class"]),(0,a.Wm)(k.D,{cols:"12",md:"4",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",K,(0,s.zw)(e.$lang.CHIEF_COMPLAINT),1),(0,a.Wm)(F.z,{modelValue:e.chief_complaint,"onUpdate:modelValue":l[14]||(l[14]=l=>e.chief_complaint=l),label:e.$lang.CHIEF_COMPLAINT,variant:"outlined","single-line":"",class:"mt-1",rows:"3",shaped:"",rules:[e.$rules.REQUIRED_FIELD("")],density:"compact","hide-details":""},null,8,["modelValue","label","rules"])])),_:1},8,["class"]),(0,a.Wm)(k.D,{cols:"12",md:"4",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",M,(0,s.zw)(e.$lang.HISTORY_OF_CHIEF_COMPLAINT),1),(0,a.Wm)(F.z,{modelValue:e.history_of_chief_complaint,"onUpdate:modelValue":l[15]||(l[15]=l=>e.history_of_chief_complaint=l),label:e.$lang.HISTORY_OF_CHIEF_COMPLAINT,variant:"outlined","single-line":"",class:"mt-1",rows:"3",shaped:"",rules:[e.$rules.REQUIRED_FIELD("")],density:"compact","hide-details":""},null,8,["modelValue","label","rules"])])),_:1},8,["class"]),(0,a.Wm)(k.D,{cols:"12",md:"4",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",H,(0,s.zw)(e.$lang.ADVISE),1),(0,a.Wm)(F.z,{modelValue:e.advise,"onUpdate:modelValue":l[16]||(l[16]=l=>e.advise=l),label:e.$lang.ADVISE,variant:"outlined","single-line":"",class:"mt-1","hide-details":"",rows:"3",shaped:"",rules:[e.$rules.REQUIRED_FIELD("")],density:"compact"},null,8,["modelValue","label","rules"])])),_:1},8,["class"]),(0,a.Wm)(k.D,{cols:"12",md:"4",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",Q,(0,s.zw)(e.$lang.OE),1),(0,a.Wm)(F.z,{modelValue:e.oe,"onUpdate:modelValue":l[17]||(l[17]=l=>e.oe=l),label:e.$lang.OE,variant:"outlined","single-line":"","hide-details":"",class:"mt-1",rows:"3",shaped:"",rules:[e.$rules.REQUIRED_FIELD("")],density:"compact"},null,8,["modelValue","label","rules"])])),_:1},8,["class"]),(0,a.Wm)(k.D,{cols:"12",md:"4",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",j,(0,s.zw)(e.$lang.REQUIRED_TEST),1),(0,a.Wm)(F.z,{modelValue:e.required_test,"onUpdate:modelValue":l[18]||(l[18]=l=>e.required_test=l),label:e.$lang.REQUIRED_TEST,variant:"outlined","single-line":"","hide-details":"",class:"mt-1",rows:"3",shaped:"",density:"compact"},null,8,["modelValue","label"])])),_:1},8,["class"]),(0,a.Wm)(k.D,{cols:"12",md:"4",class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"])},{default:(0,a.w5)((()=>[(0,a._)("label",G,(0,s.zw)(e.$lang.DIET_EXERCISE),1),(0,a.Wm)(F.z,{modelValue:e.diet_exercise,"onUpdate:modelValue":l[19]||(l[19]=l=>e.diet_exercise=l),label:e.$lang.DIET_EXERCISE,variant:"outlined","single-line":"","hide-details":"",class:"mt-1",rows:"3",shaped:"",density:"compact"},null,8,["modelValue","label"])])),_:1},8,["class"])])),_:1}),(0,a._)("div",Y,[(0,a.Wm)(T.o,{"no-gutters":""},{default:(0,a.w5)((()=>[(0,a.Wm)(k.D,{cols:"12",md:"6",class:"py-2"},{default:(0,a.w5)((()=>[B])),_:1}),(0,a.Wm)(k.D,{cols:"12",md:"6",class:"text-right pr-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(R.T,{class:"text-capitalize",color:"secondary",onClick:e.appendNewEmptyRow},{default:(0,a.w5)((()=>[Z])),_:1},8,["onClick"])])),_:1})])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.prescription_list,((l,t)=>((0,a.wg)(),(0,a.j4)(T.o,{key:t,justify:"start","no-gutters":"",class:""},{default:(0,a.w5)((()=>[(0,a.Wm)(k.D,{class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"pl-4 pr-2"]),cols:"10",md:"3"},{default:(0,a.w5)((()=>[(0,a._)("label",X,(0,s.zw)(e.$lang.DRUG),1),(0,a.Wm)(I,{modelValue:l.drug,"onUpdate:modelValue":e=>l.drug=e,"search-input":l.drug_search_query,"onUpdate:search-input":e=>l.drug_search_query=e,items:e.drug_list,rules:[e.$rules.REQUIRED_FIELD("")],placeholder:"Drug",variant:"outlined",density:"compact",class:"custom-combobox mt-1","hide-details":"","item-title":"drug_name","item-value":"drug_table_id",onFocus:t=>e.getDrugList(l.drug_search_query),onKeydown:t=>e.getDrugList(l.drug_search_query)},{item:(0,a.w5)((({props:e,item:l})=>["object"!==typeof l.raw?((0,a.wg)(),(0,a.j4)(d.l,(0,s.vs)((0,a.dG)({key:0},e)),null,16)):((0,a.wg)(),(0,a.j4)(d.l,(0,a.dG)({key:1},e,{"prepend-avatar":l.raw.avatar,title:l.raw.drug_name,subtitle:l.raw.brand}),null,16,["prepend-avatar","title","subtitle"]))])),_:2},1032,["modelValue","onUpdate:modelValue","search-input","onUpdate:search-input","items","rules","onFocus","onKeydown"])])),_:2},1032,["class"]),(0,a.Wm)(k.D,{class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"]),cols:"10",md:"2"},{default:(0,a.w5)((()=>[(0,a._)("label",J,(0,s.zw)(e.$lang.DOSE),1),(0,a.Wm)(i.r,{modelValue:l.dose,"onUpdate:modelValue":e=>l.dose=e,items:e.dose_list,label:e.$lang.DOSE,variant:"outlined","single-line":"",class:"mt-1",rules:[e.$rules.REQUIRED_FIELD("")],density:"compact","hide-details":""},null,8,["modelValue","onUpdate:modelValue","items","label","rules"])])),_:2},1032,["class"]),(0,a.Wm)(k.D,{class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"]),cols:"10",md:"2"},{default:(0,a.w5)((()=>[(0,a._)("label",ee,(0,s.zw)(e.$lang.FREQUENCY),1),(0,a.Wm)(i.r,{modelValue:l.frequency,"onUpdate:modelValue":e=>l.frequency=e,items:e.frequency_list,label:e.$lang.FREQUENCY,variant:"outlined","single-line":"",class:"mt-1",rules:[e.$rules.REQUIRED_FIELD("")],density:"compact","hide-details":""},null,8,["modelValue","onUpdate:modelValue","items","label","rules"])])),_:2},1032,["class"]),(0,a.Wm)(k.D,{class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"]),cols:"10",md:"2"},{default:(0,a.w5)((()=>[(0,a._)("label",le,(0,s.zw)(e.$lang.INSTRUCTION),1),(0,a.Wm)(i.r,{modelValue:l.instruction,"onUpdate:modelValue":e=>l.instruction=e,items:e.instruction_list,label:e.$lang.INSTRUCTION,variant:"outlined","single-line":"",class:"mt-1",rules:[e.$rules.REQUIRED_FIELD("")],density:"compact","hide-details":""},null,8,["modelValue","onUpdate:modelValue","items","label","rules"])])),_:2},1032,["class"]),(0,a.Wm)(k.D,{class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"]),cols:"10",md:"2"},{default:(0,a.w5)((()=>[(0,a._)("label",te,(0,s.zw)(e.$lang.QTY),1),(0,a.Wm)(m.h,{modelValue:l.qty,"onUpdate:modelValue":e=>l.qty=e,placeholder:e.$lang.QTY,variant:"outlined","single-line":"",class:"mt-1",shaped:"",rules:[e.$rules.REQUIRED_FIELD("")],density:"compact","hide-details":""},null,8,["modelValue","onUpdate:modelValue","placeholder","rules"])])),_:2},1032,["class"]),(0,a.Wm)(k.D,{class:(0,s.C_)(["py-2",e.$vuetify.display.mobile?"":"px-2"]),cols:"10",md:"1"},{default:(0,a.w5)((()=>[e.prescription_list.length>1?((0,a.wg)(),(0,a.j4)(x.t,{key:0,onClick:l=>e.removeRow(t),class:"mt-8"},{default:(0,a.w5)((()=>[ae])),_:2},1032,["onClick"])):(0,a.kq)("",!0)])),_:2},1032,["class"])])),_:2},1024)))),128))]),(0,a.Wm)(T.o,{"no-gutters":"",class:"mt-7"},{default:(0,a.w5)((()=>[(0,a.Wm)(k.D,{cols:"12",md:"12",class:"text-center"},{default:(0,a.w5)((()=>[(0,a.Wm)(R.T,{loading:e.btn_loading,class:"register-action-btn mx-2",color:"primary",height:"50px",width:"300px",onClick:l[20]||(l[20]=l=>e.createPrescription())},{default:(0,a.w5)((()=>[(0,a._)("span",se,(0,s.zw)(e.$lang.SAVE),1)])),_:1},8,["loading"]),(0,a.Wm)(R.T,{loading:e.btn_loading,class:"register-action-btn mx-2",color:"primary",height:"50px",width:"300px",variant:"outlined",onClick:l[21]||(l[21]=l=>e.$router.go(-1))},{default:(0,a.w5)((()=>[(0,a._)("span",ie,(0,s.zw)(e.$lang.CANCEL),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var oe=(0,a.aZ)({name:"AddDrugView",components:{},data:()=>({valid:!1,show_password:!1,btn_loading:!1,blood_pressure:[0,0],blood_sugar:"",plus_rate:"",spo2:"",weight:"",diet_exercise:"",temperature:"",oe:"",required_test:"dsa",advise:"adasdas",chief_complaint:"dasda",history_of_chief_complaint:"dasdas",patient:null,patient_list:[],patient_search:"",drug_list:[],prescription_list:[{drug_search_query:"",loading:!1,drug:null,dose:"other",frequency:"other",instruction:"other",qty:"other"}],dose_list:[],instruction_list:[],frequency_list:[]}),mounted(){this.$route.params.id?this.patient_table_id=this.$route.params.id:this.getPatientList(),this.getPrescriptionSupportingData()},methods:{getDrugList(e){var l={search_query:this.search_query,page_number:this.page_number};const t=e=>{this.drug_list=e.data.drug_list},a=()=>{this.btn_loading=!1};this.request_GET(this,this.$urls.DRUGS_LIST,l,t,null,null,a)},getPatientList(){var e={search_query:this.patient_search,page_number:this.page_number};const l=e=>{this.patient_list=e.data.patient_list},t=()=>{this.btn_loading=!1};this.request_GET(this,this.$urls.PATIENT_LIST,e,l,null,null,t)},getPrescriptionSupportingData(){var e={search_query:this.search_query,page_number:this.page_number};const l=e=>{this.dose_list=e.data.dose_list,this.instruction_list=e.data.instruction_list,this.frequency_list=e.data.frequency_list},t=()=>{this.btn_loading=!1};this.request_GET(this,this.$urls.GET_PRESCRIPTION_SUPPORTING_DATA,e,l,null,null,t)},appendNewEmptyRow(){this.prescription_list.push({drug_search_query:"",loading:!1,drug:null,dose:null,frequency:null,instruction:null,qty:null})},removeRow(e){console.log("index=",e),this.prescription_list.length>1&&this.prescription_list.splice(e,1)},async createPrescription(){if(await this.$refs.prescription_form.validate(),console.log("this.$refs.prescription_form.validate()==",this.valid),!this.valid)return!1;this.btn_loading=!0,console.log(this.patient),console.log(this.prescription_list);var e=new URLSearchParams;e.append("patient_table_id",this.patient_table_id?this.patient_table_id:this.patient.patient_table_id),e.append("blood_pressure",this.blood_pressure.join("/")),e.append("blood_sugar",this.blood_sugar),e.append("plus_rate",this.plus_rate),e.append("spo2",this.spo2),e.append("temperature",this.temperature),e.append("oe",this.oe),e.append("required_test",this.required_test),e.append("advise",this.advise),e.append("chief_complaint",this.chief_complaint),e.append("diet_exercise",this.diet_exercise),e.append("weight",this.weight),e.append("history_of_chief_complaint",this.history_of_chief_complaint),e.append("prescription_list",JSON.stringify(this.prescription_list));const l=e=>{this.$refs.prescription_form.reset(),this.showSnakeBar("success",this.doctor_table_id?"Profile Updated":"Doctor Added");let l=this.$router.resolve({name:"prescription_preview",params:{id:e.data.treatment_table_id}});window.open(l.href,"_blank")},t=()=>{this.btn_loading=!1};this.request_POST(this,this.$urls.ADD_PRESCRIPTION,e,l,null,null,t)},restrictChar(e){let l=new RegExp("\\d|\\.");e.ctrlKey||e.altKey||"string"!==typeof e.key||1!==e.key.length||l.test(e.key)||e.preventDefault()}}}),re=t(89);const ue=(0,re.Z)(oe,[["render",ne]]);var de=ue},8152:function(e,l,t){t.r(l),t.d(l,{default:function(){return y}});var a=t(3396),s=t(7139),i=t(870),n=t(4075),o=t(6824),r=t(8521),u=t(6556),d=t(2902);function c(e,l,t,c,m,p){const _=(0,a.up)("router-link"),h=(0,a.up)("data-table"),g=(0,a.up)("confirmation-dialog");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o.o,{class:"mb-2",justify:"space-between"},{default:(0,a.w5)((()=>[(0,a.Wm)(r.D,{cols:"12",md:"2"},{default:(0,a.w5)((()=>[(0,a.Wm)(_,{to:{name:"prescription"}},{default:(0,a.w5)((()=>[(0,a.Wm)(i.T,{color:"primary","prepend-icon":"mdi-plus"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(e.$lang.ADD_NEW),1)])),_:1})])),_:1})])),_:1}),(0,a.Wm)(r.D,{cols:"12",md:"5"},{default:(0,a.w5)((()=>[(0,a.Wm)(d.h,{modelValue:e.search_query,"onUpdate:modelValue":l[0]||(l[0]=l=>e.search_query=l),placeholder:e.$lang.PATIENT_SEARCH,"prepend-inner-icon":"mdi-magnify","hide-details":"","single-line":"",variant:"outlined",onKeyup:e.getTreatmentHistory,density:"compact"},null,8,["modelValue","placeholder","onKeyup"])])),_:1})])),_:1}),(0,a.Wm)(h,{items:e.treatment_history,headers:e.headers,onDelete:e.clickFunction},null,8,["items","headers","onDelete"]),(0,a.Wm)(n.J),(0,a.Wm)(u.k,{class:"mt-4",modelValue:e.page_number,"onUpdate:modelValue":[l[1]||(l[1]=l=>e.page_number=l),e.getPatientList],length:e.total_page_count,"total-visible":8,density:"comfortable",color:"primary"},null,8,["modelValue","length","onUpdate:modelValue"]),(0,a.Wm)(g,{ref:"confirmation_dialog",onYes:e.deleteRecord},null,8,["onYes"])])}var m=t(6108),p=t(6243),_=(0,a.aZ)({name:" TreatmentHistory",components:{DataTable:m.Z,ConfirmationDialog:p.Z},data:()=>({page_number:1,total_page_count:1,search_query:"",treatment_history:[],headers:[{title:"Doctor",value:["doctor_name","doctor_mobile"],multiline:!0,align:"",class:"",width:""},{title:"Patient",value:["patient_name","patient_mobile"],multiline:!0,align:"",class:"",width:""},{title:"Date",value:"created",class:""},{title:"Chief complaint",value:"chief_complaint"},{title:"",type:"btn",class:"text-right",btn_list:[{btn_icon:"mdi-delete-empty",route_name:"/prescription_preview/",router_key:"id",btn_type:"delete-btn",size:"25",color:"red"},{btn_icon:"mdi-chevron-right",route_name:"/prescription_preview/",router_key:"id",size:"25",color:"primary",target:"_blank"}]}],dialog:{treatment_table_id:null}}),created(){this.getTreatmentHistory()},methods:{getTreatmentHistory(){var e={page_number:this.page_number,search_query:this.search_query};const l=e=>{this.treatment_history=e.data.treatment_history,this.total_page_count=e.data.total_page_count},t=()=>{this.btn_loading=!1};this.request_GET(this,this.$urls.TREATMENT_HISTORY,e,l,null,null,t)},clickFunction(e){this.dialog.treatment_table_id=e,this.$refs.confirmation_dialog.$data.flag=!0},deleteRecord(){var e=new URLSearchParams;e.append("treatment_table_id",this.dialog.treatment_table_id);const l=e=>{this.treatment_history=this.treatment_history.filter((e=>e.id!==this.dialog.treatment_table_id)),this.showSnakeBar("success","Record Deleted"),this.$refs.confirmation_dialog.$data.flag=!1},t=()=>{this.btn_loading=!1};this.request_POST(this,this.$urls.DELETE_TREATMENT_RECORD,e,l,null,null,t)}}}),h=t(89);const g=(0,h.Z)(_,[["render",c],["__scopeId","data-v-02ff79ac"]]);var y=g}}]);
//# sourceMappingURL=prescription.0aa71dae.js.map